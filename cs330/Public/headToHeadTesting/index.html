<?xml version="1.0" encoding="UTF-8"?><html><head><meta charset="UTF-8"/><link href="../../styles/md-scroll.css" media="screen, projection, print" rel="stylesheet" type="text/css"/><link href="../../styles/md-scroll-ext.css" media="screen, projection, print" rel="stylesheet" type="text/css"/><meta content="width=device-width, initial-scale=1" name="viewport"/><link href="../../styles/highlight.js/styles/googlecode.css" rel="stylesheet"/><script src="../../styles/highlight.js/highlight.min.js"> </script><script>hljs.initHighlightingOnLoad();</script><script src="../../styles/md-scroll.js" type="text/javascript"> </script><script src="../../styles/md-scroll-ext.js" type="text/javascript"> </script><script src="../../styles/rawdeflate.js" type="text/javascript"> </script><script src="../../styles/plantuml.js" type="text/javascript"> </script><script src="../../styles/mermaid.min.js" type="text/javascript"> </script><script type="text/javascript">
             window.MathJax = {
               tex2jax: {
               inlineMath: [ ['$','$'], ["\\(","\\)"] ],
               processEscapes: true
             }
           };
           </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"> </script><title>Review - Head to Head Testing</title></head><body><script>sshowControl0 = { counter: 1,
             showNumber: 0, max: 1};
             window.onhashchange = hashHasChanged;</script><div class="navHeader" id="slideshowControlA0"><table class="navHeader"><tr class="slideshowcontrol"><td class="slideshowcontrolLeft"/><td class="slideshowcontrolMiddle">
<a class="imgLink" href="../../Directory/outline/index.html" title="Course home/outline"><img src="../../graphics/home.png"/></a>
<a href="mailto:tkennedy@cs.odu.edu?subject=CS330%2C%20Review%20-%20Head%20to%20Head%20Testing"><img src="../../graphics/email.png" title="Email to instructor"/></a><span style="margin: 0 32px;"/></td><td class="slideshowcontrolRight"/></tr></table></div><div class="mainBody"><div class="titleblock"><h1 class="title">Review - Head to Head Testing</h1><h2 class="author">Thomas J. Kennedy</h2></div><div class="toc">Contents:<div class="toc-h1"><a href="#setting-up-an-example">1 Setting Up an Example</a></div><div class="toc-h1"><a href="#a-few-quick-revisions-manual-output-inspection">2 A Few Quick Revisions &amp; Manual Output Inspection</a></div><div class="toc-h1"><a href="#checking-output-with-some-help">3 Checking Output with Some Help</a></div></div><p>One of the most useful tools in a programmer’s toolkit is head to head testing. Head to head testing is the process of comparing two or more pieces of output, e.g.,</p>
    <ul>
  <li>
  <p>Reference output in a program specification (e.g., assignment prompt) to output generated by running an actual program.</p>
    </li>
  <li>
  <p>Comparing similar programs written in different languages (e.g., C++ vs Python or Java vs C++).</p>
    </li>
</ul><a id="settingupanexample"/><h1 id="setting-up-an-example">1 Setting Up an Example</h1><p>Suppose that you have been tasked with implementing a program that outputs all <strong>even</strong> numbers between <code>lower_bound</code> and <code>upper_bound</code>. Let us generate some example “correct” outputs. Make sure to save the reference outputs in <code>reference-1.txt</code> and <code>reference-2.txt</code>.</p>
    <blockquote class="example" id="example1"><div class="exampleTitle">Example 1: reference-1.txt</div>
<p>When run with <code>./even_gen 15 32</code> the following output must be generated:</p>
    
<pre><code>Range [15, 32]:

    16
    18
    20
    22
    24
    26
    28
    30
    32
</code></pre>
</blockquote><blockquote class="example" id="example2"><div class="exampleTitle">Example 2: reference-2.txt</div>
<p>When run with <code>./even_gen 8 16</code> the following output must be generated:</p>
    
<pre><code>Range [8, 16]:

    8
    10
    12
    14
    16
</code></pre>
</blockquote><p>Let us tackle the first piece of output together.</p>
    <a id="afewquickrevisionsmanualoutputinspection"/><h1 id="a-few-quick-revisions-manual-output-inspection">2 A Few Quick Revisions &amp; Manual Output Inspection</h1><p>Suppose we just wrote the following code…</p>
    <div class="details"><span class="summary"><a href="even_gen_1.cpp" target="listing">even_gen_1.cpp</a></span> <input id="but_details_d6e51" onclick="toggleDisplay('_details_d6e51')" type="button" value="+"/><div class="detailPart" id="_details_d6e51"><pre><code id="_details_d6e51_code">#include &lt;iostream&gt;

using namespace std;

int main(int argc, char** argv)
{
    // Check and parse command line args
    if (argc &lt; 3) {
       cout &lt;&lt; " Usage: ./even_gen [lower_bound] [upper_bound]" &lt;&lt; "\n";
       return 1;
    }

    // Assume all args are well formed (i.e., can be parsed as integers).
    int lower_bound = atoi(argv[1]);
    int upper_bound = atoi(argv[2]);

    // The core even output logic
    cout &lt;&lt; "Range [" &lt;&lt; lower_bound &lt;&lt; ", " &lt;&lt; upper_bound &lt;&lt; "]" &lt;&lt; "\n";
    cout &lt;&lt; "\n";

    for (int next_even = lower_bound; next_even &lt;= upper_bound; next_even++) {
        cout &lt;&lt; next_even &lt;&lt; "\n";
    }

    return 0;
}
</code></pre></div></div><p>compiled it into <code>even_gen</code> and ran it with <code>./even_gen 15 32</code>. We would obtain the following output…</p>
    <pre><code>Range [15, 32]

15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
</code></pre><p>Notice the issues? The first couple issues are obvious… there are odd numbers and the first number is 15!</p>
    <p>Our first mistake is obvious… <code>next_even++</code> should be <code>next_even += 2</code>. Let us make the correction <em>and</em> move the loop to its own function (i.e., no monolithic functions).</p>
    <div class="details"><span class="summary"><a href="even_gen_2.cpp" target="listing">even_gen_2.cpp</a></span> <input id="but_details_d6e71" onclick="toggleDisplay('_details_d6e71')" type="button" value="+"/><div class="detailPart" id="_details_d6e71"><pre><code id="_details_d6e71_code">#include &lt;iostream&gt;

using namespace std;

/**
 * Output all even numbers in a given range.
 *
 * @param lower lower integer bound (a)
 * @param upper upper integer bound (b)
 */
void output_even_integers(const int lower, const int upper)
{
    for (int next_even = lower; next_even &lt;= upper; next_even += 2) {
        cout &lt;&lt; next_even &lt;&lt; "\n";
    }
}

int main(int argc, char** argv)
{
    // Check and parse command line args
    if (argc &lt; 3) {
       cout &lt;&lt; " Usage: ./even_gen [lower_bound] [upper_bound]" &lt;&lt; "\n";
       return 1;
    }

    // Assume all args are well formed (i.e., can be parsed as integers).
    int lower_bound = atoi(argv[1]);
    int upper_bound = atoi(argv[2]);

    // The core even output logic
    cout &lt;&lt; "Range [" &lt;&lt; lower_bound &lt;&lt; ", " &lt;&lt; upper_bound &lt;&lt; "]" &lt;&lt; "\n";
    cout &lt;&lt; "\n";

    output_even_integers(lower_bound, upper_bound);

    return 0;
}
</code></pre></div></div><p>If we run the program again… we obtain…</p>
    <pre><code>Range [15, 32]

15
17
19
21
23
25
27
29
31
</code></pre><p>We have fewer numbers.. but they are all odd! Let us fix that by checking to see if lower_limit is even.</p>
    <div class="details"><span class="summary"><a href="even_gen_3.cpp" target="listing">even_gen_3.cpp</a></span> <input id="but_details_d6e77" onclick="toggleDisplay('_details_d6e77')" type="button" value="+"/><div class="detailPart" id="_details_d6e77"><pre><code id="_details_d6e77_code">#include &lt;iostream&gt;

using namespace std;

/**
 * Output all even numbers in a given range.
 *
 * @param lower lower integer bound (a)
 * @param upper upper integer bound (b)
 */
void output_even_integers(const int lower, const int upper)
{
    const int first_even = (lower % 2 == 0 ? lower : lower + 1);

    for (int next_even = first_even; next_even &lt;= upper; next_even += 2) {
        cout &lt;&lt; next_even &lt;&lt; "\n";
    }
}

int main(int argc, char** argv)
{
    // Check and parse command line args
    if (argc &lt; 3) {
       cout &lt;&lt; " Usage: ./even_gen [lower_bound] [upper_bound]" &lt;&lt; "\n";
       return 1;
    }

    // Assume all args are well formed (i.e., can be parsed as integers).
    int lower_bound = atoi(argv[1]);
    int upper_bound = atoi(argv[2]);

    // The core even output logic
    cout &lt;&lt; "Range [" &lt;&lt; lower_bound &lt;&lt; ", " &lt;&lt; upper_bound &lt;&lt; "]" &lt;&lt; "\n";
    cout &lt;&lt; "\n";

    output_even_integers(lower_bound, upper_bound);

    return 0;
}
</code></pre></div></div><p>The output looks correct..</p>
    <pre><code>Range [15, 32]

16
18
20
22
24
26
28
30
32
</code></pre><p><strong>However, we are humans. We will miss certain differences.</strong></p>
    <a id="checkingoutputwithsomehelp"/><h1 id="checking-output-with-some-help">3 Checking Output with Some Help</h1><p>Instead of manually inspecting output, let us use a few Linux utilities. Rerun the program with:</p>
    <p><code>./even_gen 15 32 &gt; actual-1.txt</code></p>
    <p>This command uses output redirection (through <code>&gt;</code>) to save all output to <code>actual-1.txt</code>. Run</p>
    <pre><code>diff reference-1.txt actual-1.txt
</code></pre><p>You should see something similar to…</p>
    <pre><code>1c1
&lt; Range [15, 32]:
---
&gt; Range [15, 32]
3,11c3,11
&lt;     16
&lt;     18
&lt;     20
&lt;     22
&lt;     24
&lt;     26
&lt;     28
&lt;     30
&lt;     32
---
&gt; 16
&gt; 18
&gt; 20
&gt; 22
&gt; 24
&gt; 26
&gt; 28
&gt; 30
&gt; 32
</code></pre><p>The output definitely differs. However, <code>diff</code> normally falls short (i.e., the differences are difficult to analyze). Let us try </p>
    <pre><code>sdiff reference-1.txt actual-1.txt
</code></pre><p>You should see…</p>
    <pre><code>Range [15, 32]:						      |	Range [15, 32]

    16							      |	16
    18							      |	18
    20							      |	20
    22							      |	22
    24							      |	24
    26							      |	26
    28							      |	28
    30							      |	30
    32							      |	32
</code></pre><p>That is a little better. However, I am partial to <code>vimdiff</code>. Run</p>
    <pre><code>vimdiff reference-1.txt actual-1.txt
</code></pre><p>You should see output similar to…</p>
    <p><img alt="vimdiff" src="vimdiff.png"/></p>
    <p>Take note of how <code>vimdiff</code> highlights the lines that differ and (in most cases) the parts of each line that differ. You can exit by pressing <code>&lt;Esc&gt;</code> then typing <code>:qa</code> and pressing enter.</p>
    <p>Notice the last mistake? Our implementation is not outputting 4 spaces before each number. Let us make one last correction…</p>
    <div class="details"><span class="summary"><a href="even_gen_4.cpp" target="listing">even_gen_4.cpp</a></span> <input id="but_details_d6e129" onclick="toggleDisplay('_details_d6e129')" type="button" value="+"/><div class="detailPart" id="_details_d6e129"><pre><code id="_details_d6e129_code">#include &lt;iostream&gt;

using namespace std;

/**
 * Output all even numbers in a given range.
 *
 * @param lower lower integer bound (a)
 * @param upper upper integer bound (b)
 */
void output_even_integers(const int lower, const int upper)
{
    const int first_even = (lower % 2 == 0 ? lower : lower + 1);

    for (int next_even = first_even; next_even &lt;= upper; next_even += 2) {
        cout &lt;&lt; "    " &lt;&lt; next_even &lt;&lt; "\n";
    }
}

int main(int argc, char** argv)
{
    // Check and parse command line args
    if (argc &lt; 3) {
       cout &lt;&lt; " Usage: ./even_gen [lower_bound] [upper_bound]" &lt;&lt; "\n";
       return 1;
    }

    // Assume all args are well formed (i.e., can be parsed as integers).
    int lower_bound = atoi(argv[1]);
    int upper_bound = atoi(argv[2]);

    // The core even output logic
    cout &lt;&lt; "Range [" &lt;&lt; lower_bound &lt;&lt; ", " &lt;&lt; upper_bound &lt;&lt; "]" &lt;&lt; "\n";
    cout &lt;&lt; "\n";

    output_even_integers(lower_bound, upper_bound);

    return 0;
}
</code></pre></div></div><p>Rerun <code>./even_gen 15 32 &gt; actual-1.txt</code> followed by the <code>diff</code>, <code>sdiff</code> and <code>vimdiff</code> commands. There is one more mistake… a missing <code>:</code> on the first line. I will leave adding the missing <code>:</code> as an exercise to the reader (i.e., you).</p>
    </div><script>sshowControl0 = { counter: 1,
             showNumber: 0, max: 1};
             window.onhashchange = hashHasChanged;</script><div class="navFooter" id="slideshowControl0"><table class="navFooter"><tr class="slideshowcontrol"><td class="slideshowcontrolLeft"/><td class="slideshowcontrolMiddle">
<a class="imgLink" href="../../Directory/outline/index.html" title="Course home/outline"><img src="../../graphics/home.png"/></a>
<a href="mailto:tkennedy@cs.odu.edu?subject=CS330%2C%20Review%20-%20Head%20to%20Head%20Testing"><img src="../../graphics/email.png" title="Email to instructor"/></a><span style="margin: 0 32px;"/></td><td class="slideshowcontrolRight"/></tr></table></div><div class="copyright">© 2015-2024, Old Dominion Univ.</div></body></html>
